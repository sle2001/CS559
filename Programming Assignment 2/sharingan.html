<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sharingan</title>
</head>

<body>
<canvas id = "myCanvas" width="400" height="400"></canvas>

<br />
speed: <input id="slider1" type="range" min="0" max="100"/>
<br />

<script src="sharingan.js"></script>
<script src="paths.js"></script>
<script>
    "use strict";

    function myApp() {
        // variables for the "program" - kept inside rather than global
        var theCanvas;
        var myContext;
        // a slider for the speed of the eyes
        var slider;
        // keep a list of the eyes - we can add more if we want
        var theSharingans = [];

        // animation loop - clear, update, draw, schedule the next iteration
        function draw() {
            myContext.clearRect(0, 0, myCanvas.width, myCanvas.height);
            myContext.fillStyle = "#000000";
            myContext.fillRect(0, 0, theCanvas.width, theCanvas.height);
            theSharingans[0].speed = slider.value;
            theSharingans[1].speed = slider.value;
            myContext.save();
            theSharingans.forEach(function(c) { c.update();})
            theSharingans.forEach(function(c) { c.draw(); })
            myContext.restore();
            window.requestAnimationFrame(draw);
        }

        // set up the elements
        theCanvas = document.getElementById('myCanvas');
        myContext = theCanvas.getContext('2d');
        slider = document.getElementById("slider1");
        slider.value = 1;

        // make some sharingans
        theSharingans.push(new Sharingan(myContext));
        theSharingans.push(new Sharingan(myContext,100,100,.5));

        // attach them to paths so they fly around
        theSharingans[0].path = new CirclePath(100,100,50);
        theSharingans[1].path = new CirclePath(250,250,75);
        draw();
    }

    // start the program when the window is done loading
    window.onload=myApp;
</script>

</body>
</html>
